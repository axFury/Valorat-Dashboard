(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var r=e.i(43476),t=e.i(47163);function a({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function s({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function n({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...a})}function d({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...a})}function l({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>d,"CardHeader",()=>s,"CardTitle",()=>n])},21218,e=>{"use strict";let r=(0,e.i(75254).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>r],21218)},22528,e=>{"use strict";var r=e.i(47167),t=e.i(43476),a=e.i(71645),s=e.i(70065),n=e.i(94179),d=e.i(63270),l=e.i(24632),i=e.i(21218);let c=Object.fromEntries(["Iron","Bronze","Silver","Gold","Platinum","Diamond","Ascendant","Immortal","Radiant"].map((e,r)=>[e.toLowerCase(),r+1]));function o(e,r){let{tierScore:t,div:a}=function(e){if(!e)return{tierKey:"unranked",tierScore:0,div:0};let[r,t]=e.trim().split(/\s+/),a=(r||"").toLowerCase(),s=c[a]??0,n=Number(t)||4*("radiant"===a);return{tierKey:a,tierScore:s,div:n}}(e);return 1e3*t+100*a+(Number.isFinite(r)?r:0)}function u(e){let r=(e||"").trim();return r?r[0]?.toUpperCase():"?"}function m(){let[e,c]=(0,a.useState)([]),[m,x]=(0,a.useState)(!0),h=(0,a.useMemo)(()=>(0,l.createClient)(r.default.env.NEXT_PUBLIC_SUPABASE_URL,r.default.env.NEXT_PUBLIC_SUPABASE_ANON_KEY),[]);(0,a.useEffect)(()=>{let e=!0,r=localStorage.getItem("selected_guild");return r?(async function(){let{data:t}=await h.from("valorant_profile").select("*").eq("guild_id",r);e&&(c(t||[]),x(!1));let a=h.channel("valo_profiles").on("postgres_changes",{event:"*",schema:"public",table:"valorant_profile",filter:`guild_id=eq.${r}`},async()=>{let{data:t}=await h.from("valorant_profile").select("*").eq("guild_id",r);e&&c(t||[])}).subscribe();()=>h.removeChannel(a)}(),()=>{e=!1}):void x(!1)},[h]);let p=(0,a.useMemo)(()=>{let r=[...e];return r.sort((e,r)=>{let t=o(r.rank,r.rr),a=o(e.rank,e.rr);return t!==a?t-a:(e.riot_id||"").localeCompare(r.riot_id||"")}),r},[e]),j=p.slice(0,3);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Valorant"})}),(0,t.jsxs)(s.Card,{className:"border-border bg-card",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"ðŸ† Top 3 joueurs"})}),(0,t.jsx)(s.CardContent,{children:m?(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Chargementâ€¦"}):0===j.length?(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aucun profil Valorant pour ce serveur."}):(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:j.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-4 rounded-xl border border-border bg-muted/30 p-4",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:(0,t.jsxs)("span",{className:"text-base font-bold",children:["#",r+1]})}),(0,t.jsxs)(d.Avatar,{className:"h-12 w-12 bg-transparent ring-0",children:[e.rank_icon?(0,t.jsx)(d.AvatarImage,{src:e.rank_icon,alt:e.rank||"Rank"}):null,(0,t.jsx)(d.AvatarFallback,{children:u(e.riot_id)})]}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"truncate font-medium",children:e.discord_name||"<non liÃ©>"}),(0,t.jsx)("p",{className:"truncate text-xs text-muted-foreground",children:e.riot_id||"â€”"}),(0,t.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,t.jsx)(n.Badge,{variant:"outline",children:e.rank||"Unranked"}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["RR ",e.rr??0]})]})]})]},e.user_id))})})]}),(0,t.jsxs)(s.Card,{className:"border-border bg-card",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsxs)(s.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Activity,{className:"h-5 w-5"}),"Classement de tous les joueurs"]})}),(0,t.jsx)(s.CardContent,{children:m?(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Chargementâ€¦"}):0===p.length?(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aucun profil Valorant pour ce serveur."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border text-left text-muted-foreground",children:[(0,t.jsx)("th",{className:"py-2 pr-4",children:"#"}),(0,t.jsx)("th",{className:"py-2 pr-4",children:"Discord"}),(0,t.jsx)("th",{className:"py-2 pr-4",children:"Riot"}),(0,t.jsx)("th",{className:"py-2 pr-4",children:"Rang"}),(0,t.jsx)("th",{className:"py-2 pr-4",children:"RR"}),(0,t.jsx)("th",{className:"py-2 pr-0",children:"DerniÃ¨re maj"})]})}),(0,t.jsx)("tbody",{children:p.map((e,r)=>(0,t.jsxs)("tr",{className:"border-b border-border/60",children:[(0,t.jsx)("td",{className:"py-2 pr-4 font-medium",children:r+1}),(0,t.jsx)("td",{className:"py-2 pr-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(d.Avatar,{className:"h-8 w-8 bg-transparent ring-0",children:[e.rank_icon?(0,t.jsx)(d.AvatarImage,{src:e.rank_icon,alt:e.rank||"Rank"}):null,(0,t.jsx)(d.AvatarFallback,{children:u(e.riot_id)})]}),(0,t.jsx)("div",{className:"min-w-0",children:(0,t.jsx)("div",{className:"truncate",children:e.discord_name||"<non liÃ©>"})})]})}),(0,t.jsx)("td",{className:"py-2 pr-4 text-muted-foreground",children:e.riot_id||"â€”"}),(0,t.jsx)("td",{className:"py-2 pr-4",children:(0,t.jsx)(n.Badge,{variant:"outline",children:e.rank||"Unranked"})}),(0,t.jsx)("td",{className:"py-2 pr-4",children:e.rr??0}),(0,t.jsx)("td",{className:"py-2 pr-0 text-muted-foreground",children:function(e){if(!e)return"â€”";let r=new Date(e);return Number.isNaN(+r)?"â€”":r.toLocaleString()}(e.last_update)})]},e.user_id))})]})})})]})]})}e.s(["default",()=>m])}]);