(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32986,e=>{"use strict";var s=e.i(47167),a=e.i(43476),t=e.i(71645),r=e.i(70065),l=e.i(27341),n=e.i(94179),i=e.i(67881),d=e.i(87336),o=e.i(23750),c=e.i(66551),m=e.i(31278),x=e.i(61911),u=e.i(3116),h=e.i(52754),p=e.i(67240),b=e.i(24632),g=e.i(30536);function j(e){return e.toLocaleString("fr-FR")}function f(e){let s=Math.max(1,Math.floor((Date.now()-new Date(e).getTime())/1e3));if(s<60)return`${s}s`;let a=Math.floor(s/60);if(a<60)return`${a}m`;let t=Math.floor(a/60);return t<24?`${t}h`:`${Math.floor(t/24)}j`}let N=[0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26],v=new Set([1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36]);function y(e){return"â™¥"===e||"â™¦"===e?"text-red-500":"text-foreground"}function w({card:e,hidden:s=!1,delay:r=0}){let[l,n]=(0,t.useState)(0===r);return((0,t.useEffect)(()=>{if(r>0){let e=setTimeout(()=>n(!0),r);return()=>clearTimeout(e)}},[r]),l)?s||"?"===e.rank?(0,a.jsx)("div",{className:"w-20 h-28 rounded-xl bg-gradient-to-br from-primary to-primary/80 border-2 border-primary/30 flex items-center justify-center shadow-lg shadow-primary/10 transition-all duration-300",children:(0,a.jsx)("span",{className:"text-2xl font-bold text-primary-foreground/50",children:"?"})}):(0,a.jsxs)("div",{className:"w-20 h-28 rounded-xl bg-card border-2 border-border flex flex-col items-center justify-center shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[(0,a.jsx)("span",{className:`text-xl font-bold ${y(e.suit)}`,children:e.rank}),(0,a.jsx)("span",{className:`text-2xl ${y(e.suit)}`,children:e.suit})]}):(0,a.jsx)("div",{className:"w-20 h-28 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border-2 border-primary/20 animate-pulse"})}let C=[{label:"Couleurs",bets:[{value:"rouge",label:"ðŸ”´ Rouge",mult:"Ã—2"},{value:"noir",label:"âš« Noir",mult:"Ã—2"}]},{label:"ParitÃ©",bets:[{value:"pair",label:"Pair",mult:"Ã—2"},{value:"impair",label:"Impair",mult:"Ã—2"}]},{label:"MoitiÃ©s",bets:[{value:"1-18",label:"1-18",mult:"Ã—2"},{value:"19-36",label:"19-36",mult:"Ã—2"}]},{label:"Douzaines",bets:[{value:"doz1",label:"1Ã¨re (1-12)",mult:"Ã—3"},{value:"doz2",label:"2Ã¨me (13-24)",mult:"Ã—3"},{value:"doz3",label:"3Ã¨me (25-36)",mult:"Ã—3"}]},{label:"Colonnes",bets:[{value:"col1",label:"Col. 1",mult:"Ã—3"},{value:"col2",label:"Col. 2",mult:"Ã—3"},{value:"col3",label:"Col. 3",mult:"Ã—3"}]}];function k(){var e;let[y,k]=(0,t.useState)(!0),[S,$]=(0,t.useState)(null),[T,_]=(0,t.useState)(null),[M,B]=(0,t.useState)(0),[z,P]=(0,t.useState)([]),[q,A]=(0,t.useState)(100),[I,L]=(0,t.useState)(!1),[R,D]=(0,t.useState)(null),[F,E]=(0,t.useState)(0),[O,H]=(0,t.useState)("");function J(e,s){q<=0||P(a=>a.find(s=>s.bet===e)?a.map(s=>s.bet===e?{...s,mise:s.mise+q}:s):[...a,{bet:e,label:s,mise:q}])}let[U,K]=(0,t.useState)(null),[V,W]=(0,t.useState)(100),[G,X]=(0,t.useState)(!1),[Y,Z]=(0,t.useState)([]),[Q,ee]=(0,t.useState)([]),[es,ea]=(0,t.useState)(new Map),[et,er]=(0,t.useState)(100),[el,en]=(0,t.useState)(!1),[ei,ed]=(0,t.useState)(null),[eo,ec]=(0,t.useState)(["ðŸ’","ðŸ‹","ðŸŠ"]),[em,ex]=(0,t.useState)(100),[eu,eh]=(0,t.useState)("2.00"),[ep,eb]=(0,t.useState)(!1),[eg,ej]=(0,t.useState)(null),[ef,eN]=(0,t.useState)(1),ev=(0,t.useRef)(0),[ey,ew]=(0,t.useState)(100),[eC,ek]=(0,t.useState)(3),[eS,e$]=(0,t.useState)(null),[eT,e_]=(0,t.useState)(!1),eM=(0,b.createClient)(s.default.env.NEXT_PUBLIC_SUPABASE_URL,s.default.env.NEXT_PUBLIC_SUPABASE_ANON_KEY),eB=(0,t.useCallback)(async e=>{let s=await fetch(`/api/casino/balance?guildId=${e}`);if(s.ok){let e=await s.json();_(e),B(e.balance)}},[]);async function ez(){if(!S||I||0===z.length)return;L(!0),D(null);let e=await fetch("/api/casino/roulette",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guildId:S,bets:z})}),s=await e.json();if(!e.ok){L(!1),D({error:s.error});return}E(F+360*(5+Math.floor(3*Math.random()))+(360-360/37*N.indexOf(s.number))),setTimeout(()=>{D(s),B(s.newBalance),L(!1)},3500)}async function eP(e){if(!S||G)return;X(!0);let s=await fetch("/api/casino/blackjack",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guildId:S,action:e,mise:"start"===e?V:void 0})}),a=await s.json();(X(!1),s.ok)?(K(a),void 0!==a.newBalance&&B(a.newBalance)):K(e=>e?{...e,error:a.error}:{initError:a.error})}async function eq(){if(!S||el)return;en(!0),ed(null);let e=await fetch("/api/casino/slots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guildId:S,mise:et})}),s=await e.json();if(!e.ok){en(!1),ed({error:s.error});return}let a=["ðŸ’","ðŸ‹","ðŸŠ","ðŸ‡","â­","ðŸ’Ž","7ï¸âƒ£"],t=0,r=setInterval(()=>{ec([++t<8?a[Math.floor(Math.random()*a.length)]:s.reels[0].emoji,t<14?a[Math.floor(Math.random()*a.length)]:s.reels[1].emoji,t<20?a[Math.floor(Math.random()*a.length)]:s.reels[2].emoji]),t>=20&&(clearInterval(r),ed(s),B(s.newBalance),en(!1))},100)}async function eA(){if(!S||ep)return;let e=parseFloat(eu);if(e<1.01||e>1e3)return;eb(!0),ej(null),eN(1),ev.current&&cancelAnimationFrame(ev.current);let s=await fetch("/api/casino/crash",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guildId:S,mise:em,target:e})}),a=await s.json();if(!s.ok){eb(!1),ej({error:a.error});return}let t=performance.now();if(a.crashPoint<=1){eN(1),ej(a),B(a.newBalance),eb(!1);return}ev.current=requestAnimationFrame(function e(s){let r=+Math.exp(6e-4*(s-t));a.won&&r>=a.crashPoint?r=a.crashPoint:!a.won&&r>=a.crashPoint&&(r=a.crashPoint),eN(r),r<a.crashPoint?ev.current=requestAnimationFrame(e):(eN(a.crashPoint),ej(a),B(a.newBalance),eb(!1))})}async function eI(e,s){if(S&&!eT&&("start"!==e||eS?.status!=="playing")&&("start"===e||eS?.status==="playing")){e_(!0),"start"===e&&e$({status:"loading",board:Array(25).fill("?")});try{let a=await fetch("/api/casino/mines",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guildId:S,action:e,mise:ey,minesCount:eC,pickIndex:s})}),t=await a.json();if(!a.ok){"start"===e&&e$({error:t.error});return}"pick"===e?setTimeout(()=>e$(t),150):e$(t),void 0!==t.newBalance&&B(t.newBalance)}catch(e){console.error("Mines fetch error",e)}finally{e_(!1)}}}if((0,t.useEffect)(()=>{let e=localStorage.getItem("selected_guild");($(e),e)?async function(){await eB(e);try{let{data:s}=await eM.from("bets").select(`
            id, guild_id, creator_id, title, status, type, resolved_option_id, created_at,
            bet_options:bet_options!bet_options_bet_id_fkey(id, name),
            bet_participants(id, option_id, user_id, amount)
          `).eq("guild_id",e).order("created_at",{ascending:!1}).limit(30);if(s){let a=new Set,t=s.map(e=>{let s=0,t={};e.bet_options?.forEach(e=>{t[e.id]=0}),e.bet_participants?.forEach(e=>{s+=Number(e.amount),t[e.option_id]=(t[e.option_id]||0)+Number(e.amount)});let r=2e3/(e.bet_options?.length||1),l=s+2e3,n=(e.bet_options||[]).map(e=>{let s=t[e.id]||0,a=l/(s+r);return a<1.01&&(a=1.01),{...e,totalMise:s,odds:a.toFixed(2)}});return a.add(e.creator_id),e.bet_participants?.forEach(e=>a.add(e.user_id)),{id:e.id,title:e.title,status:e.status,type:e.type,created_at:e.created_at,creator_id:e.creator_id,resolved_option_id:e.resolved_option_id,options:n,totalPool:s,participantCount:e.bet_participants?.length||0}});if(Z(t.filter(e=>"open"===e.status||"closed"===e.status)),ee(t.filter(e=>"resolved"===e.status||"cancelled"===e.status).slice(0,10)),a.size>0)try{ea(await (0,g.getDiscordProfiles)(Array.from(a),e))}catch{}}}catch{}k(!1)}():k(!1)},[eB]),y)return(0,a.jsx)("div",{className:"flex h-96 items-center justify-center",children:(0,a.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-primary"})});if(!S)return(0,a.jsx)("div",{className:"flex h-96 items-center justify-center text-muted-foreground",children:"SÃ©lectionne un serveur"});let eL=U?.status==="done"||U?.error||U?.initError;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Casino"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Roulette, Blackjack et paris"})]}),(0,a.jsx)(r.Card,{className:"border-border bg-gradient-to-r from-amber-500/10 to-yellow-500/10 sm:w-auto",children:(0,a.jsxs)(r.CardContent,{className:"flex items-center gap-3 p-4",children:[(0,a.jsx)(h.Wallet,{className:"h-5 w-5 text-amber-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ton solde"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-amber-500",children:[j(M)," pq"]})]}),(0,a.jsx)(i.Button,{variant:"ghost",size:"icon",className:"ml-2 h-8 w-8",onClick:()=>S&&eB(S),children:(0,a.jsx)(p.RotateCcw,{className:"h-4 w-4"})})]})})]}),(0,a.jsxs)(l.Tabs,{defaultValue:"roulette",className:"w-full",children:[(0,a.jsxs)(l.TabsList,{className:"grid w-full grid-cols-5",children:[(0,a.jsxs)(l.TabsTrigger,{value:"roulette",className:"gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"ðŸŽ°"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Roulette"})]}),(0,a.jsxs)(l.TabsTrigger,{value:"blackjack",className:"gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"ðŸƒ"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Blackjack"})]}),(0,a.jsxs)(l.TabsTrigger,{value:"slots",className:"gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"ðŸ’"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Machine Ã  sous"})]}),(0,a.jsxs)(l.TabsTrigger,{value:"crash",className:"gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"ðŸš€"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Crash"})]}),(0,a.jsxs)(l.TabsTrigger,{value:"bets",className:"gap-2",children:[(0,a.jsx)(c.Dices,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Paris"})]})]}),(0,a.jsxs)(l.TabsContent,{value:"roulette",className:"mt-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,a.jsxs)(r.Card,{className:"border-border bg-gradient-to-br from-card to-emerald-500/5",children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsx)(r.CardTitle,{className:"text-center",children:"ðŸŽ° Roulette EuropÃ©enne"})}),(0,a.jsxs)(r.CardContent,{className:"flex flex-col items-center space-y-6",children:[(0,a.jsxs)("div",{className:"relative w-72 h-72",children:[(0,a.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1 z-10 w-0 h-0 border-l-[10px] border-r-[10px] border-t-[20px] border-l-transparent border-r-transparent border-t-amber-400 drop-shadow-lg"}),(0,a.jsx)("div",{className:"w-72 h-72 rounded-full border-4 border-amber-500/50 overflow-hidden shadow-2xl shadow-amber-500/10",style:{transform:`rotate(${F}deg)`,transition:I?"transform 3.5s cubic-bezier(0.17, 0.67, 0.12, 0.99)":"none"},children:(0,a.jsxs)("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[N.map((e,s)=>{let t=360*s/37,r=(s+1)*360/37,l=(t+r)/2,n=Math.PI/180*(t-90),i=Math.PI/180*(r-90),d=Math.PI/180*(l-90),o=100+100*Math.cos(n),c=100+100*Math.sin(n),m=100+100*Math.cos(i),x=100+100*Math.sin(i),u=100+40*Math.cos(i),h=100+40*Math.sin(i),p=100+40*Math.cos(n),b=100+40*Math.sin(n),g=100+73*Math.cos(d),j=100+73*Math.sin(d),f=0===e?"#059669":v.has(e)?"#dc2626":"#18181b";return(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:`M ${o} ${c} A 100 100 0 0 1 ${m} ${x} L ${u} ${h} A 40 40 0 0 0 ${p} ${b} Z`,fill:f,stroke:"#333",strokeWidth:"0.5"}),(0,a.jsx)("text",{x:g,y:j,textAnchor:"middle",dominantBaseline:"central",fill:"white",fontSize:"6",fontWeight:"bold",transform:`rotate(${l}, ${g}, ${j})`,children:e})]},e)}),(0,a.jsx)("circle",{cx:"100",cy:"100",r:"38",fill:"#1a1a2e",stroke:"#333",strokeWidth:"1"}),(0,a.jsx)("text",{x:"100",y:"100",textAnchor:"middle",dominantBaseline:"central",fill:"#f59e0b",fontSize:"10",fontWeight:"bold",children:R?R.number:"ðŸŽ°"})]})})]}),R&&!R.error&&(0,a.jsxs)("div",{className:`rounded-2xl p-4 text-center w-full ${R.won?"bg-emerald-500/10 border border-emerald-500/30":"bg-red-500/10 border border-red-500/30"}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ${0===(e=R.number)?"bg-emerald-600":v.has(e)?"bg-red-600":"bg-zinc-900"}`,children:R.number}),(0,a.jsx)("span",{className:"text-lg font-bold",children:"red"===R.color?"ðŸ”´ Rouge":"black"===R.color?"âš« Noir":"ðŸŸ¢ Vert"})]}),(0,a.jsx)("div",{className:"text-sm mb-2 text-muted-foreground break-words",children:R.results.map((e,s)=>(0,a.jsxs)("span",{className:e.won?"text-emerald-400":"text-red-400",children:[e.bet," (",j(e.mise),"pq)",e.won?` +${j(e.winnings)}`:"",s<R.results.length-1?" | ":""]},s))}),(0,a.jsx)("p",{className:`text-xl font-bold ${R.won?"text-emerald-400":"text-red-400"}`,children:R.won?`+${j(R.winnings)} pq ðŸŽ‰`:`-${j(R.totalMise)} pq`})]}),R?.error&&(0,a.jsxs)("div",{className:"rounded-2xl bg-red-500/10 border border-red-500/30 p-4 text-center text-red-400 w-full",children:["âŒ ",R.error]})]})]}),(0,a.jsxs)(r.Card,{className:"border-border bg-card",children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{children:"Placer ta mise"}),(0,a.jsx)(r.CardDescription,{children:"Choisis ton pari et le montant"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Montant"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.Input,{type:"number",min:1,max:5e4,value:q,onChange:e=>A(Math.max(1,parseInt(e.target.value)||0)),className:"flex-1"}),(0,a.jsx)("div",{className:"flex gap-1",children:[100,500,1e3,5e3].map(e=>(0,a.jsx)(i.Button,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>A(e),children:e>=1e3?`${e/1e3}k`:e},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[C.map(e=>(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:e.label}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:e.bets.map(e=>{let s=z.some(s=>s.bet===e.value);return(0,a.jsxs)(i.Button,{variant:s?"default":"outline",size:"sm",className:"text-xs",onClick:()=>J(e.value,e.label),children:[e.label," ",(0,a.jsx)("span",{className:"ml-1 opacity-60",children:e.mult})]},e.value)})})]},e.label)),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"NumÃ©ro direct (Ã—36)"}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(o.Input,{type:"number",min:0,max:36,placeholder:"0-36",value:O,onChange:e=>H(e.target.value),className:"w-24"}),(0,a.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>{""!==O&&parseInt(O)>=0&&36>=parseInt(O)&&(J(O,`Num\xe9ro ${O}`),H(""))},children:"Ajouter"})]})]})]}),z.length>0&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 p-3 rounded-lg bg-black/20 border border-white/5",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-semibold",children:"Paris en cours"}),(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-red-400 hover:text-red-300 hover:bg-red-400/10",onClick:function(){P([])},children:"Tout effacer"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:z.map(e=>(0,a.jsxs)(n.Badge,{variant:"secondary",className:"pl-2 pr-1 py-1 flex items-center gap-1 bg-white/5",children:[(0,a.jsxs)("span",{children:[e.label," ",(0,a.jsxs)("span",{className:"text-amber-400 ml-1",children:[j(e.mise)," pq"]})]}),(0,a.jsx)("div",{className:"ml-1 cursor-pointer opacity-50 hover:opacity-100 p-0.5 rounded-full hover:bg-white/10",onClick:()=>{var s;return s=e.bet,void P(e=>e.filter(e=>e.bet!==s))},children:"âœ•"})]},e.bet))}),(0,a.jsxs)("div",{className:"text-right text-sm text-muted-foreground mt-1",children:["Total: ",(0,a.jsxs)("span",{className:"text-amber-400 font-bold",children:[j(z.reduce((e,s)=>e+s.mise,0))," pq"]})]})]}),(0,a.jsx)(i.Button,{className:"w-full h-14 text-lg font-bold gap-2 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 shadow-lg shadow-emerald-500/20",disabled:I||0===z.length,onClick:ez,children:I?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Loader2,{className:"h-5 w-5 animate-spin"})," La roue tourne..."]}):(0,a.jsxs)(a.Fragment,{children:["ðŸŽ° Tourner la roue â€” ",j(z.reduce((e,s)=>e+s.mise,0))," pq"]})})]})]})]}),(0,a.jsxs)(r.Card,{className:"border-border bg-card",children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsx)(r.CardTitle,{children:"Table de la Roulette"})}),(0,a.jsx)(r.CardContent,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("div",{className:"grid grid-cols-13 gap-0.5 min-w-[520px]",style:{gridTemplateColumns:"repeat(13, 1fr)"},children:[(0,a.jsx)("button",{onClick:()=>J("0","NumÃ©ro 0"),className:`row-span-3 rounded-lg flex items-center justify-center text-sm font-bold text-white transition-all hover:scale-105 ${z.some(e=>"0"===e.bet)?"ring-2 ring-amber-400 scale-105":""} bg-emerald-600 h-full min-h-[80px]`,children:"0"}),[[3,6,9,12,15,18,21,24,27,30,33,36],[2,5,8,11,14,17,20,23,26,29,32,35],[1,4,7,10,13,16,19,22,25,28,31,34]].map((e,s)=>e.map(e=>(0,a.jsx)("button",{onClick:()=>J(String(e),`Num\xe9ro ${e}`),className:`h-[28px] rounded flex items-center justify-center text-xs font-bold text-white transition-all hover:scale-110 ${z.some(s=>s.bet===String(e))?"ring-2 ring-amber-400 scale-110":""} ${v.has(e)?"bg-red-600 hover:bg-red-500":"bg-zinc-800 hover:bg-zinc-700"}`,children:e},e)))]})})})]})]}),(0,a.jsx)(l.TabsContent,{value:"blackjack",className:"mt-6 space-y-6",children:(0,a.jsxs)(r.Card,{className:"border-border bg-gradient-to-br from-card via-card to-emerald-500/5",children:[(0,a.jsxs)(r.CardHeader,{className:"text-center",children:[(0,a.jsx)(r.CardTitle,{className:"text-2xl",children:"ðŸƒ Blackjack"}),(0,a.jsx)(r.CardDescription,{children:"Bat le croupier sans dÃ©passer 21"})]}),(0,a.jsx)(r.CardContent,{className:"space-y-8",children:U&&!U.initError?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:["Croupier ",eL?`â€” ${U.dealerValue}`:`â€” ${U.dealerValue}+?`]}),(0,a.jsx)("div",{className:"flex justify-center gap-3 flex-wrap",children:U.dealer.map((e,s)=>(0,a.jsx)(w,{card:e,delay:eL&&1===s?300:0},s))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-1 h-px bg-border"}),eL&&(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[U.results.map((e,s)=>(0,a.jsxs)("div",{className:`px-6 py-2 rounded-full font-bold text-sm text-center ${"win"===e||"blackjack"===e||"dealer_bust"===e?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/30":"push"===e?"bg-amber-500/10 text-amber-400 border border-amber-500/30":"bg-red-500/10 text-red-400 border border-red-500/30"}`,children:[U.hands.length>1&&(0,a.jsxs)("span",{className:"opacity-70 mr-2",children:["Main ",s+1]}),"blackjack"===e&&"ðŸŽ° BLACKJACK !","win"===e&&"âœ… Tu gagnes !","dealer_bust"===e&&"ðŸ’¥ Croupier bust !","push"===e&&"ðŸ¤ Ã‰galitÃ©","bust"===e&&"ðŸ’€ Bust !","lose"===e&&"âŒ Perdu"]},s)),U.totalPayout>0&&(0,a.jsxs)("div",{className:"text-center font-bold text-emerald-400",children:["+",j(U.totalPayout)," pq"]})]}),(0,a.jsx)("div",{className:"flex-1 h-px bg-border"})]}),(0,a.jsx)("div",{className:"flex flex-col gap-6",children:U.hands.map((e,s)=>{let t=U.values[s],r=!eL&&s===U.currentHand;return(0,a.jsxs)("div",{className:`text-center space-y-3 transition-opacity duration-300 ${!r&&!eL?"opacity-50":"opacity-100"}`,children:[(0,a.jsxs)("div",{className:"flex justify-center gap-3 flex-wrap relative",children:[r&&(0,a.jsx)("div",{className:"absolute -left-8 top-1/2 -translate-y-1/2 text-xl animate-pulse",children:"ðŸ‘‰"}),e.map((e,s)=>(0,a.jsx)(w,{card:e,delay:200*(s>=2)},s))]}),(0,a.jsxs)("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:[U.hands.length>1?`Main ${s+1} â€” `:"Toi â€” ",(0,a.jsx)("span",{className:`font-bold ${t>21?"text-red-400":21===t?"text-emerald-400":"text-foreground"}`,children:t})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(n.Badge,{variant:"outline",className:"bg-amber-500/5 text-amber-400 border-amber-500/20",children:["Mise: ",j(U.bets[s])," pq",U.doubled[s]&&" (double)"]})})]},s)})}),eL?(0,a.jsx)("div",{className:"flex justify-center border-t border-border pt-6",children:(0,a.jsxs)(i.Button,{onClick:()=>K(null),className:"gap-2 h-12 px-8 bg-gradient-to-r from-primary to-primary/80",children:[(0,a.jsx)(p.RotateCcw,{className:"h-4 w-4"})," Nouvelle partie"]})}):(0,a.jsxs)("div",{className:"flex justify-center gap-3 flex-wrap border-t border-border pt-6",children:[(0,a.jsxs)(i.Button,{onClick:()=>eP("hit"),disabled:G,className:"bg-blue-600 hover:bg-blue-500 text-white gap-2 h-12 px-8",children:[G?(0,a.jsx)(m.Loader2,{className:"h-4 w-4 animate-spin"}):"ðŸŽ¯"," Tirer"]}),(0,a.jsx)(i.Button,{onClick:()=>eP("stand"),disabled:G,variant:"outline",className:"gap-2 h-12 px-8",children:"âœ‹ Rester"}),(0,a.jsx)(i.Button,{onClick:()=>eP("double"),disabled:G||!U.canAfford||U.hands[U.currentHand].length>2,className:"bg-amber-600 hover:bg-amber-500 text-white gap-2 h-12 px-8",children:"ðŸ’° Doubler"}),U.canSplit&&(0,a.jsx)(i.Button,{onClick:()=>eP("split"),disabled:G||!U.canAfford,className:"bg-purple-600 hover:bg-purple-500 text-white gap-2 h-12 px-8",children:"âœ‚ï¸ SÃ©parer"})]}),U.error&&(0,a.jsxs)("p",{className:"text-center text-red-400",children:["âŒ ",U.error]})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-6 py-8",children:[(0,a.jsx)("div",{className:"flex gap-3 opacity-30",children:[{suit:"â™ ",rank:"A"},{suit:"â™¥",rank:"K"}].map((e,s)=>(0,a.jsx)(w,{card:e},s))}),(0,a.jsxs)("div",{className:"space-y-3 text-center",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Place ta mise pour commencer"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,a.jsx)(o.Input,{type:"number",min:1,max:5e4,value:V,onChange:e=>W(Math.max(1,parseInt(e.target.value)||0)),className:"w-32 text-center"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"pq"})]}),(0,a.jsx)("div",{className:"flex gap-2 justify-center",children:[100,500,1e3,5e3].map(e=>(0,a.jsx)(i.Button,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>W(e),children:e>=1e3?`${e/1e3}k`:e},e))}),(0,a.jsxs)(i.Button,{className:"h-14 px-10 text-lg font-bold gap-2 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 shadow-lg shadow-blue-500/20",disabled:G||V<=0,onClick:()=>eP("start"),children:[G?(0,a.jsx)(m.Loader2,{className:"h-5 w-5 animate-spin"}):"ðŸƒ"," Jouer â€” ",j(V)," pq"]}),U?.initError&&(0,a.jsxs)("p",{className:"text-sm font-medium text-red-400",children:["âŒ ",U.initError]})]})]})})]})}),(0,a.jsx)(l.TabsContent,{value:"slots",className:"mt-6 space-y-6",children:(0,a.jsxs)(r.Card,{className:"border-border bg-gradient-to-br from-card via-card to-purple-500/5",children:[(0,a.jsxs)(r.CardHeader,{className:"text-center",children:[(0,a.jsx)(r.CardTitle,{className:"text-2xl",children:"ðŸ’ Machine Ã  Sous"}),(0,a.jsx)(r.CardDescription,{children:"Aligne 3 symboles identiques pour gagner !"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-8",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"rounded-3xl bg-gradient-to-br from-zinc-800 to-zinc-900 border-4 border-amber-500/30 p-8 shadow-2xl shadow-amber-500/10",children:(0,a.jsx)("div",{className:"flex gap-4",children:eo.map((e,s)=>(0,a.jsx)("div",{className:`w-24 h-24 rounded-2xl bg-gradient-to-br from-zinc-700 to-zinc-800 border-2 border-zinc-600 flex items-center justify-center text-5xl transition-all duration-200 ${el?"animate-bounce":""} ${ei?.won&&ei?.type==="triple"?"ring-4 ring-amber-400 shadow-lg shadow-amber-400/30":""}`,style:el?{animationDelay:`${100*s}ms`}:{},children:e},s))})})}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-center text-sm",children:[[{emoji:"ðŸ’",name:"Cerise",mult:"Ã—3"},{emoji:"ðŸ‹",name:"Citron",mult:"Ã—5"},{emoji:"ðŸŠ",name:"Orange",mult:"Ã—8"},{emoji:"ðŸ‡",name:"Raisin",mult:"Ã—12"},{emoji:"â­",name:"Ã‰toile",mult:"Ã—25"},{emoji:"ðŸ’Ž",name:"Diamant",mult:"Ã—100"},{emoji:"7ï¸âƒ£",name:"JACKPOT",mult:"Ã—500"}].map(e=>(0,a.jsxs)("div",{className:"rounded-xl bg-muted/30 p-2",children:[(0,a.jsx)("span",{className:"text-xl",children:e.emoji}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.mult})]},e.name)),(0,a.jsxs)("div",{className:"rounded-xl bg-muted/30 p-2",children:[(0,a.jsx)("span",{className:"text-sm",children:"2x"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ã·1/4"})]})]}),ei&&!ei.error&&(0,a.jsxs)("div",{className:`rounded-2xl p-5 text-center ${ei.won?"bg-emerald-500/10 border border-emerald-500/30":"bg-red-500/10 border border-red-500/30"} ${ei.isJackpot?"ring-2 ring-amber-400 animate-pulse":""}`,children:[ei.isJackpot&&(0,a.jsx)("p",{className:"text-3xl font-black text-amber-400 mb-2",children:"ðŸŽ° JACKPOT !!! ðŸŽ°"}),(0,a.jsx)("p",{className:`text-xl font-bold ${ei.won?"text-emerald-400":"text-red-400"}`,children:ei.won?`+${j(ei.winnings)} pq (\xd7${ei.multiplier}) ðŸŽ‰`:`-${j(et)} pq`}),"double"===ei.type&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"2 symboles identiques !"}),"triple"===ei.type&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"3 symboles identiques !"})]}),ei?.error&&(0,a.jsxs)("div",{className:"rounded-2xl bg-red-500/10 border border-red-500/30 p-4 text-center text-red-400",children:["âŒ ",ei.error]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Input,{type:"number",min:1,max:5e4,value:et,onChange:e=>er(Math.max(1,parseInt(e.target.value)||0)),className:"w-32 text-center"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"pq"})]}),(0,a.jsx)("div",{className:"flex gap-2",children:[100,500,1e3,5e3].map(e=>(0,a.jsx)(i.Button,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>er(e),children:e>=1e3?`${e/1e3}k`:e},e))}),(0,a.jsx)(i.Button,{className:"h-14 px-10 text-lg font-bold gap-2 bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 shadow-lg shadow-purple-500/20 w-full max-w-sm",disabled:el||et<=0,onClick:eq,children:el?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Loader2,{className:"h-5 w-5 animate-spin"})," Spinning..."]}):(0,a.jsxs)(a.Fragment,{children:["ðŸ’ Tirer le levier â€” ",j(et)," pq"]})})]})]})]})}),(0,a.jsx)(l.TabsContent,{value:"crash",className:"mt-6 space-y-6",children:(0,a.jsxs)(r.Card,{className:"border-border bg-gradient-to-br from-card via-card to-orange-500/5",children:[(0,a.jsxs)(r.CardHeader,{className:"text-center",children:[(0,a.jsx)(r.CardTitle,{className:"text-2xl",children:"ðŸš€ Crash"}),(0,a.jsx)(r.CardDescription,{children:"La fusÃ©e s'envole... Multiplie tes gains avant l'explosion !"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"relative h-64 w-full rounded-3xl bg-zinc-950 border border-zinc-800 overflow-hidden flex items-center justify-center shadow-inner",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),(0,a.jsxs)("div",{className:`z-10 text-7xl font-black tabular-nums transition-colors duration-200 ${eg&&!eg.won&&!eg.error?"text-red-500":eg&&eg.won&&!eg.error?"text-emerald-400":"text-white"}`,children:[ef.toFixed(2),"x"]}),ep&&parseFloat(eu)<=ef&&(0,a.jsxs)("div",{className:"absolute top-8 text-xl font-bold font-mono text-emerald-400 bg-emerald-500/10 px-4 py-1.5 rounded-full ring-1 ring-emerald-500/50 animate-bounce",children:["Retrait: ",eu,"x"]}),eg&&!eg.error&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none",children:(0,a.jsx)("div",{className:"w-full text-center text-red-500 text-9xl animate-pulse blur-sm",children:"ðŸ’¥"})})]}),(0,a.jsxs)("div",{className:"max-w-xl mx-auto space-y-6",children:[eg&&!eg.error&&(0,a.jsxs)("div",{className:`rounded-2xl p-4 text-center border ${eg.won?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-red-500/10 border-red-500/30 text-red-400"}`,children:[(0,a.jsx)("p",{className:"font-bold text-lg",children:eg.won?`Retrait r\xe9ussi (+${j(eg.winnings)} pq)`:`Crashed \xe0 ${eg.crashPoint}x !`}),!eg.won&&(0,a.jsxs)("p",{className:"text-sm opacity-80 mt-1",children:["La fusÃ©e a explosÃ© avant ton objectif de ",eu,"x"]})]}),eg?.error&&(0,a.jsxs)("div",{className:"rounded-2xl bg-red-500/10 border border-red-500/30 p-4 text-center text-red-400",children:["âŒ ",eg.error]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Mise (pq)"}),(0,a.jsx)(o.Input,{type:"number",min:1,max:5e5,value:em,onChange:e=>ex(Math.max(1,parseInt(e.target.value)||0)),disabled:ep,className:"text-lg h-12"}),(0,a.jsx)("div",{className:"flex gap-1",children:[100,1e3,"1/2","Max"].map(e=>(0,a.jsx)(i.Button,{variant:"outline",size:"sm",className:"text-xs h-8 flex-1 px-0",disabled:ep,onClick:()=>{"1/2"===e?ex(Math.max(1,Math.floor(em/2))):"Max"===e?ex(Math.min(5e5,M)):ex(e)},children:e},e))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Retrait Auto (x)"}),(0,a.jsx)(o.Input,{type:"number",min:1.01,step:.1,value:eu,onChange:e=>eh(e.target.value),disabled:ep,className:"text-lg h-12"}),(0,a.jsx)("div",{className:"flex gap-1",children:["1.50","2.00","5.00","10.0"].map(e=>(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",className:"text-xs h-8 flex-1 px-0",disabled:ep,onClick:()=>eh(e),children:[e,"x"]},e))})]})]}),(0,a.jsxs)(i.Button,{className:"w-full h-16 text-xl font-bold overflow-hidden relative group bg-gradient-to-r from-orange-600 to-amber-500 hover:from-orange-500 hover:to-amber-400",disabled:ep||em<=0||1.01>parseFloat(eu),onClick:eA,children:[ep?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Loader2,{className:"h-6 w-6 animate-spin"})," En vol..."]}):(0,a.jsx)("span",{className:"flex items-center gap-2",children:"DÃ©coller ðŸš€"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]})]})]})]})}),(0,a.jsx)(l.TabsContent,{value:"mines",className:"mt-6 space-y-6",children:(0,a.jsxs)(r.Card,{className:"border-border bg-card",children:[(0,a.jsxs)(r.CardHeader,{className:"text-center",children:[(0,a.jsx)(r.CardTitle,{className:"text-2xl",children:"ðŸ’£ Mines"}),(0,a.jsx)(r.CardDescription,{children:"DÃ©couvre les Ã©toiles et Ã©vite les mines pour multiplier tes gains !"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[(0,a.jsxs)("div",{className:"space-y-2 flex-1 relative",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Mise (pq)"}),(0,a.jsx)(o.Input,{type:"number",min:1,value:ey,onChange:e=>ew(Number(e.target.value)),disabled:eS?.status==="playing"||eT,className:"bg-zinc-900 border-zinc-800 focus-visible:ring-primary/50 text-white rounded-xl h-12 text-lg"}),(0,a.jsxs)("div",{className:"absolute right-2 top-[34px] flex gap-1",children:[(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>ew(Math.max(1,ey/2)),disabled:eS?.status==="playing"||eT,className:"h-8 w-8 p-0",children:"/2"}),(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>ew(2*ey),disabled:eS?.status==="playing"||eT,className:"h-8 w-8 p-0",children:"x2"})]})]}),(0,a.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,a.jsxs)("label",{className:"text-sm font-medium",children:["Nombre de mines (",eC,")"]}),(0,a.jsx)("div",{className:"flex items-center gap-2 h-12 bg-zinc-900 border border-zinc-800 rounded-xl px-4",children:(0,a.jsx)("input",{type:"range",min:"1",max:"24",value:eC,onChange:e=>ek(Number(e.target.value)),disabled:eS?.status==="playing"||eT,className:"w-full accent-primary"})})]}),(0,a.jsx)("div",{className:"flex-1 w-full sm:w-auto h-12",children:eS?.status==="playing"?(0,a.jsxs)(i.Button,{size:"lg",className:"w-full h-full font-bold text-lg bg-green-600 hover:bg-green-700 text-white shadow-lg shadow-green-900/20",onClick:()=>eI("cashout"),disabled:eT||eS?.revealed?.length===0,children:["Encaisser ",(ey*(eS?.multiplier||1)).toLocaleString("fr-FR")," pq"]}):(0,a.jsx)(i.Button,{size:"lg",className:"w-full h-full font-bold text-lg bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/20",onClick:()=>eI("start"),disabled:eT||ey<=0||ey>M||eC<1||eC>24,children:eT?(0,a.jsx)(m.Loader2,{className:"h-5 w-5 animate-spin"}):"Jouer"})})]}),eS?.status==="playing"&&(0,a.jsxs)("div",{className:"flex justify-between items-center px-4 py-3 bg-zinc-900/50 rounded-xl border border-zinc-800",children:[(0,a.jsxs)("span",{className:"text-muted-foreground text-sm font-medium",children:["Diamants trouvÃ©s : ",(0,a.jsx)("span",{className:"text-white",children:eS.revealed?.length||0})]}),(0,a.jsxs)("span",{className:"text-muted-foreground text-sm font-medium",children:["Multiplicateur : ",(0,a.jsxs)("span",{className:"text-primary text-lg font-bold",children:[eS.multiplier?.toFixed(2),"x"]})]})]}),eS?.status==="bombed"&&(0,a.jsxs)("div",{className:"p-4 bg-red-950/40 border border-red-900/50 rounded-xl text-center",children:[(0,a.jsx)("p",{className:"text-red-400 font-bold text-lg",children:"ðŸ’¥ BOUM ! La mine a explosÃ©."}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Vous avez perdu ",eS.mise?.toLocaleString("fr-FR")," pq."]})]}),eS?.status==="cashed_out"&&(0,a.jsxs)("div",{className:"p-4 bg-green-950/40 border border-green-900/50 rounded-xl text-center animate-in zoom-in duration-300",children:[(0,a.jsx)("p",{className:"text-green-400 font-bold text-lg",children:"ðŸ’° Encaissement rÃ©ussi !"}),(0,a.jsxs)("p",{className:"text-green-300",children:["Gains : +",eS.winnings?.toLocaleString("fr-FR")," pq (",eS.multiplier?.toFixed(2),"x)"]})]}),eS?.error&&(0,a.jsx)("div",{className:"p-4 bg-red-950 border border-red-900 rounded-xl text-center",children:(0,a.jsx)("p",{className:"text-red-400 font-bold",children:eS.error})}),(0,a.jsx)("div",{className:"flex justify-center mt-8",children:(0,a.jsx)("div",{className:"grid grid-cols-5 gap-2 sm:gap-3 p-4 bg-zinc-900/80 rounded-2xl border border-zinc-800/50 shadow-inner w-full max-w-md aspect-square",children:Array.from({length:25}).map((e,s)=>{let t=!!(eS?.status!=="playing"&&eS?.board)||eS?.revealed?.includes(s),r=t?eS?.board?eS.board[s]:"gem":null,l="bomb"===r,n="gem"===r,i=l&&eS?.status==="bombed"&&!1==!eS?.revealed?.includes(s),d=eS?.revealed?.[eS.revealed.length-1]===s,o=eS?.status!=="playing"&&eS?.board&&!eS?.revealed?.includes(s)&&!l;return(0,a.jsx)("button",{disabled:eS?.status!=="playing"||t||eT,onClick:()=>eI("pick",s),className:`
                                                    relative w-full h-full rounded-xl transition-all duration-300 ease-out transform
                                                    flex items-center justify-center text-3xl sm:text-4xl shadow-sm
                                                    ${!t?"bg-zinc-800 hover:bg-zinc-700 hover:scale-[1.03] hover:shadow-md border-b-4 border-zinc-900 cursor-pointer":""}
                                                    ${n?"bg-emerald-900/40 border border-emerald-500/30 shadow-[inset_0_0_15px_rgba(16,185,129,0.2)]":""}
                                                    ${l?"bg-red-900/40 border border-red-500/30 shadow-[inset_0_0_15px_rgba(239,68,68,0.2)]":""}
                                                    ${i&&d?"bg-red-600/60 scale-105 border-red-500 z-10 animate-pulse":""}
                                                    ${o?"opacity-30":"opacity-100"}
                                                `,style:{perspective:"1000px"},children:(0,a.jsxs)("div",{className:`transition-all duration-500 ${t?"scale-100 rotate-y-0 opacity-100":"scale-50 rotate-y-90 opacity-0"}`,children:[l&&"ðŸ’£",n&&"ðŸ’Ž"]})},`mine-${s}`)})})})]})]})}),(0,a.jsxs)(l.TabsContent,{value:"bets",className:"mt-6 space-y-6",children:[(0,a.jsxs)(r.Card,{className:"border-border bg-card",children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Dices,{className:"h-5 w-5 text-purple-500"}),"Paris en cours"]}),(0,a.jsx)(r.CardDescription,{children:"Paris ouverts ou en attente â€¢ Mise via /pari sur Discord"})]}),(0,a.jsx)(r.CardContent,{children:0===Y.length?(0,a.jsx)("p",{className:"py-8 text-center text-muted-foreground",children:"Aucun pari en cours â€” CrÃ©e un pari avec /pari sur Discord !"}):(0,a.jsx)("div",{className:"space-y-4",children:Y.map(e=>{var s;return(0,a.jsxs)("div",{className:"rounded-2xl border border-border bg-muted/30 p-5 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-0.5",children:["Par ",(s=e.creator_id,es.get(s)?.username||"Utilisateur")," Â· ",f(e.created_at)]})]}),(0,a.jsx)(n.Badge,{className:"open"===e.status?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20",children:"open"===e.status?"ðŸŸ¢ Ouvert":"ðŸŸ¡ FermÃ©"})]}),(0,a.jsx)("div",{className:"grid gap-2 sm:grid-cols-2",children:e.options.map(s=>{let t=e.totalPool>0?s.totalMise/e.totalPool*100:0;return(0,a.jsxs)("div",{className:"rounded-xl border border-border bg-card p-3 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-medium text-foreground",children:s.name}),(0,a.jsxs)(n.Badge,{variant:"outline",className:"text-primary",children:["Ã—",s.odds]})]}),(0,a.jsx)(d.Progress,{value:t,className:"h-1.5"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[j(s.totalMise)," pq (",t.toFixed(0),"%)"]})]},s.id)})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.Users,{className:"h-4 w-4"}),e.participantCount]}),(0,a.jsxs)("span",{children:["ðŸ’° ",j(e.totalPool)," pq"]}),"valorant_next_match"===e.type&&(0,a.jsx)(n.Badge,{variant:"outline",className:"text-red-400 border-red-500/20",children:"ðŸŽ¯ Valorant"})]})]},e.id)})})})]}),(0,a.jsxs)(r.Card,{className:"border-border bg-card",children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Clock,{className:"h-5 w-5 text-blue-500"}),"Historique"]})}),(0,a.jsx)(r.CardContent,{children:0===Q.length?(0,a.jsx)("p",{className:"py-8 text-center text-muted-foreground",children:"Aucun historique"}):(0,a.jsx)("div",{className:"space-y-3",children:Q.map(e=>{let s=e.options.find(s=>s.id===e.resolved_option_id);return(0,a.jsxs)("div",{className:"flex items-center gap-4 rounded-2xl bg-muted/30 p-4",children:[(0,a.jsx)("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-xl text-lg ${"resolved"===e.status?"bg-emerald-500/10":"bg-red-500/10"}`,children:"resolved"===e.status?"âœ…":"âŒ"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-foreground truncate",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["resolved"===e.status&&s?`Gagnant: ${s.name}`:"AnnulÃ©"," Â· ",f(e.created_at)]})]}),(0,a.jsxs)("div",{className:"text-right shrink-0",children:[(0,a.jsxs)("p",{className:"text-sm font-semibold",children:[j(e.totalPool)," pq"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.participantCount," joueurs"]})]})]},e.id)})})})]})]})]})]})}e.s(["default",()=>k])}]);