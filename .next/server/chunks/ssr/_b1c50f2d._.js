module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},5522,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},25015,a=>{"use strict";let b=(0,a.i(70106).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);a.s(["Play",()=>b],25015)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},39383,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3130),e=a.i(40695),f=a.i(5522),g=a.i(17171),h=a.i(87682),i=a.i(77687),j=a.i(4860),k=a.i(25015),l=a.i(70106);let m=(0,l.default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),n=(0,l.default)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),o=(0,l.default)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),p=(0,l.default)("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);var q=a.i(96221),r=a.i(81560);function s(){let{toast:a}=(0,i.useToast)(),[l,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),F=(0,c.useCallback)(async()=>{let{status:a,result:b}=await (0,j.sendCommand)("listVoiceChannels");if("done"===a&&b?.ok){let a=(b.channels||[]).map(a=>({id:String(a.id),name:String(a.name)}));A(a),a.length&&!B&&C(a[0].id)}},[B]),G=(0,c.useCallback)(async()=>{let{status:a,result:b}=await (0,j.sendCommand)("getQueue");"done"===a&&b?.ok&&(w((b.queue||[]).map((a,b)=>({id:String(b),title:String(a.title||"Unknown"),artist:String(a.author||""),duration:function(a){if(!a&&0!==a)return"";let b=Math.floor(a/1e3),c=Math.floor(b/60),d=String(b%60).padStart(2,"0");return`${c}:${d}`}("number"==typeof a.length?a.length:void 0),thumbnail:a.artworkUrl||null}))),b.nowPlaying?u({title:String(b.nowPlaying.title||"Unknown"),artist:String(b.nowPlaying.author||""),thumbnail:b.nowPlaying.artworkUrl||null}):u(null),s(!!b.nowPlaying))},[]);(0,c.useEffect)(()=>{F(),G()},[F,G]),(0,c.useEffect)(()=>{let a=setInterval(()=>{G().catch(()=>{})},5e3);return()=>clearInterval(a)},[G]);let H=async()=>{if(!D||!B)return void a({title:"Erreur",description:"Veuillez saisir une URL/recherche et sÃ©lectionner un salon vocal",variant:"destructive"});y(!0),a({title:"Play",description:"Commande envoyÃ©e..."});try{let{status:b,result:c}=await (0,j.sendCommand)("play",{voiceChannelId:B,query:D});"done"===b&&c?.ok?(s(!0),await G(),a({title:"SuccÃ¨s",description:"Lecture dÃ©marrÃ©e"}),E("")):a({title:"Erreur",description:c?.reason||"Impossible de lire la musique",variant:"destructive"})}catch{a({title:"Erreur",description:"Impossible de lire la musique",variant:"destructive"})}finally{y(!1)}},I=async b=>{y(!0),a({title:b.charAt(0).toUpperCase()+b.slice(1),description:"Commande envoyÃ©e..."});try{let{status:c,result:d}=await (0,j.sendCommand)(b);"done"===c&&d?.ok?("pause"===b&&s(!1),"resume"===b&&s(!0),"stop"===b&&s(!1),await G(),a({title:"SuccÃ¨s",description:`${b} effectu\xe9`})):a({title:"Erreur",description:d?.reason||"Action Ã©chouÃ©e",variant:"destructive"})}catch{a({title:"Erreur",description:`Impossible d'effectuer ${b}`,variant:"destructive"})}finally{y(!1)}},J=async b=>{try{let{status:c,result:d}=await (0,j.sendCommand)("removeFromQueue",{trackId:b});"done"===c&&d?.ok?(await G(),a({title:"RetirÃ©",description:"Piste retirÃ©e de la file"})):a({title:"Erreur",description:d?.reason||"Impossible de retirer la piste",variant:"destructive"})}catch{a({title:"Erreur",description:"Impossible de retirer la piste",variant:"destructive"})}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Musique"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"ContrÃ´lez la lecture de musique"})]}),(0,b.jsxs)(d.Card,{className:"border-border bg-card",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Play,{className:"h-5 w-5"}),"Jouer de la musique"]}),(0,b.jsx)(d.CardDescription,{children:"Ajouter une piste Ã  la file d'attente"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Salon vocal"}),(0,b.jsxs)(h.Select,{value:B,onValueChange:C,disabled:x||!z.length,children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:z.length?"SÃ©lectionnez un salon vocal":"Aucun salon vocal"})}),(0,b.jsx)(h.SelectContent,{children:z.map(a=>(0,b.jsxs)(h.SelectItem,{value:a.id,children:["ðŸ”Š ",a.name]},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"URL ou recherche"}),(0,b.jsx)(f.Input,{placeholder:"https://youtube.com/... ou nom de musique",value:D,onChange:a=>E(a.target.value),disabled:x})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(e.Button,{onClick:H,className:"gap-2",disabled:x||!B||!D,children:[x?(0,b.jsx)(q.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(k.Play,{className:"h-4 w-4"}),"Jouer"]}),(0,b.jsxs)(e.Button,{variant:"outline",className:"gap-2",onClick:()=>{F(),G()},disabled:x,children:[(0,b.jsx)(q.Loader2,{className:"h-4 w-4"}),"RafraÃ®chir"]})]})]})]}),(0,b.jsxs)(d.Card,{className:"border-border bg-card",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(p,{className:"h-5 w-5"}),"ContrÃ´les"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"mb-4 flex flex-col items-center text-center",children:t?(0,b.jsxs)(b.Fragment,{children:[t.thumbnail&&(0,b.jsx)("img",{src:t.thumbnail||"/placeholder.svg",alt:"",className:"mb-2 h-14 w-14 rounded-md object-cover"}),(0,b.jsx)("p",{className:"max-w-[90%] truncate text-base font-semibold",children:t.title}),(0,b.jsx)("p",{className:"max-w-[90%] truncate text-sm text-muted-foreground",children:t.artist})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Rien en cours de lecture"})}),(0,b.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,b.jsxs)(e.Button,{onClick:()=>I("resume"),size:"lg",className:"gap-2",disabled:x,children:[x?(0,b.jsx)(q.Loader2,{className:"h-5 w-5 animate-spin"}):(0,b.jsx)(k.Play,{className:"h-5 w-5"}),"Play"]}),(0,b.jsxs)(e.Button,{onClick:()=>I("pause"),size:"lg",variant:"outline",className:"gap-2",disabled:x,children:[x?(0,b.jsx)(q.Loader2,{className:"h-5 w-5 animate-spin"}):(0,b.jsx)(m,{className:"h-5 w-5"}),"Pause"]}),(0,b.jsxs)(e.Button,{onClick:()=>I("skip"),size:"lg",variant:"outline",className:"gap-2",disabled:x,children:[(0,b.jsx)(n,{className:"h-5 w-5"}),"Skip"]}),(0,b.jsxs)(e.Button,{onClick:()=>I("stop"),size:"lg",variant:"outline",className:"gap-2",disabled:x,children:[(0,b.jsx)(o,{className:"h-5 w-5"}),"Stop"]})]})]})]}),(0,b.jsxs)(d.Card,{className:"border-border bg-card",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"File d'attente"}),(0,b.jsxs)(d.CardDescription,{children:[v.length," ",1===v.length?"piste":"pistes"," en attente"]})]}),(0,b.jsx)(d.CardContent,{children:0===v.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-2xl bg-muted p-12 text-center",children:[(0,b.jsx)(p,{className:"mb-4 h-12 w-12 text-muted-foreground"}),(0,b.jsx)("p",{className:"text-lg font-medium",children:"Aucune piste en attente"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Les pistes ajoutÃ©es apparaÃ®tront ici"})]}):(0,b.jsx)("div",{className:"space-y-2",children:v.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-lg bg-muted p-3",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center overflow-hidden rounded-lg bg-primary/10",children:a.thumbnail?(0,b.jsx)("img",{src:a.thumbnail||"/placeholder.svg",alt:"",className:"h-10 w-10 object-cover"}):(0,b.jsx)(p,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.artist," ",a.duration?`â€¢ ${a.duration}`:""]})]}),(0,b.jsx)(e.Button,{size:"icon",variant:"ghost",onClick:()=>J(c),children:(0,b.jsx)(r.Trash2,{className:"h-4 w-4 text-muted-foreground"})})]},`${a.id}-${c}`))})})]})]})}a.s(["default",()=>s],39383)}];

//# sourceMappingURL=_b1c50f2d._.js.map