module.exports=[57274,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3130),e=a.i(21958),f=a.i(54161),g=a.i(40695),h=a.i(2150),i=a.i(5522),j=a.i(28822),k=a.i(96221),l=a.i(60246),m=a.i(41710),n=a.i(56738),o=a.i(87654),p=a.i(40422);function q(a){return a.toLocaleString("fr-FR")}function r(a){let b=Math.max(1,Math.floor((Date.now()-new Date(a).getTime())/1e3));if(b<60)return`${b}s`;let c=Math.floor(b/60);if(c<60)return`${c}m`;let d=Math.floor(c/60);return d<24?`${d}h`:`${Math.floor(d/24)}j`}a.i(11543);let s=[0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26],t=new Set([1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36]);function u(a){return"â™¥"===a||"â™¦"===a?"text-red-500":"text-foreground"}function v({card:a,hidden:d=!1,delay:e=0}){let[f,g]=(0,c.useState)(0===e);return((0,c.useEffect)(()=>{if(e>0){let a=setTimeout(()=>g(!0),e);return()=>clearTimeout(a)}},[e]),f)?d||"?"===a.rank?(0,b.jsx)("div",{className:"w-20 h-28 rounded-xl bg-gradient-to-br from-primary to-primary/80 border-2 border-primary/30 flex items-center justify-center shadow-lg shadow-primary/10 transition-all duration-300",children:(0,b.jsx)("span",{className:"text-2xl font-bold text-primary-foreground/50",children:"?"})}):(0,b.jsxs)("div",{className:"w-20 h-28 rounded-xl bg-card border-2 border-border flex flex-col items-center justify-center shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[(0,b.jsx)("span",{className:`text-xl font-bold ${u(a.suit)}`,children:a.rank}),(0,b.jsx)("span",{className:`text-2xl ${u(a.suit)}`,children:a.suit})]}):(0,b.jsx)("div",{className:"w-20 h-28 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 border-2 border-primary/20 animate-pulse"})}let w=[{label:"Couleurs",bets:[{value:"rouge",label:"ðŸ”´ Rouge",mult:"Ã—2"},{value:"noir",label:"âš« Noir",mult:"Ã—2"}]},{label:"ParitÃ©",bets:[{value:"pair",label:"Pair",mult:"Ã—2"},{value:"impair",label:"Impair",mult:"Ã—2"}]},{label:"MoitiÃ©s",bets:[{value:"1-18",label:"1-18",mult:"Ã—2"},{value:"19-36",label:"19-36",mult:"Ã—2"}]},{label:"Douzaines",bets:[{value:"doz1",label:"1Ã¨re (1-12)",mult:"Ã—3"},{value:"doz2",label:"2Ã¨me (13-24)",mult:"Ã—3"},{value:"doz3",label:"3Ã¨me (25-36)",mult:"Ã—3"}]},{label:"Colonnes",bets:[{value:"col1",label:"Col. 1",mult:"Ã—3"},{value:"col2",label:"Col. 2",mult:"Ã—3"},{value:"col3",label:"Col. 3",mult:"Ã—3"}]}];function x(){var a;let[u,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(0),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)(100),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(0),[O,P]=(0,c.useState)("");function Q(a,b){G<=0||F(c=>c.find(b=>b.bet===a)?c.map(b=>b.bet===a?{...b,mise:b.mise+G}:b):[...c,{bet:a,label:b,mise:G}])}let[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)(100),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)([]),[Z,$]=(0,c.useState)([]),[_,aa]=(0,c.useState)(new Map),[ab,ac]=(0,c.useState)(100),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(null),[ah,ai]=(0,c.useState)(["ðŸ’","ðŸ‹","ðŸŠ"]),[aj,ak]=(0,c.useState)(100),[al,am]=(0,c.useState)("2.00"),[an,ao]=(0,c.useState)(!1),[ap,aq]=(0,c.useState)(null),[ar,as]=(0,c.useState)(1),at=(0,c.useRef)(0);(0,p.createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);let au=(0,c.useCallback)(async a=>{let b=await fetch(`/api/casino/balance?guildId=${a}`);if(b.ok){let a=await b.json();B(a),D(a.balance)}},[]);async function av(){if(!y||I||0===E.length)return;J(!0),L(null);let a=await fetch("/api/casino/roulette",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guildId:y,bets:E})}),b=await a.json();if(!a.ok){J(!1),L({error:b.error});return}N(M+360*(5+Math.floor(3*Math.random()))+(360-360/37*s.indexOf(b.number))),setTimeout(()=>{L(b),D(b.newBalance),J(!1)},3500)}async function aw(a){if(!y||V)return;W(!0);let b=await fetch("/api/casino/blackjack",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guildId:y,action:a,mise:"start"===a?T:void 0})}),c=await b.json();(W(!1),b.ok)?(S(c),void 0!==c.newBalance&&D(c.newBalance)):S(a=>({...a,error:c.error}))}async function ax(){if(!y||ad)return;ae(!0),ag(null);let a=await fetch("/api/casino/slots",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guildId:y,mise:ab})}),b=await a.json();if(!a.ok){ae(!1),ag({error:b.error});return}let c=["ðŸ’","ðŸ‹","ðŸŠ","ðŸ‡","â­","ðŸ’Ž","7ï¸âƒ£"],d=0,e=setInterval(()=>{ai([++d<8?c[Math.floor(Math.random()*c.length)]:b.reels[0].emoji,d<14?c[Math.floor(Math.random()*c.length)]:b.reels[1].emoji,d<20?c[Math.floor(Math.random()*c.length)]:b.reels[2].emoji]),d>=20&&(clearInterval(e),ag(b),D(b.newBalance),ae(!1))},100)}async function ay(){if(!y||an)return;let a=parseFloat(al);if(a<1.01||a>1e3)return;ao(!0),aq(null),as(1),at.current&&cancelAnimationFrame(at.current);let b=await fetch("/api/casino/crash",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guildId:y,mise:aj,target:a})}),c=await b.json();if(!b.ok){ao(!1),aq({error:c.error});return}let d=performance.now();if(c.crashPoint<=1){as(1),aq(c),D(c.newBalance),ao(!1);return}at.current=requestAnimationFrame(function a(b){let e=+Math.exp(6e-4*(b-d));c.won&&e>=c.crashPoint?e=c.crashPoint:!c.won&&e>=c.crashPoint&&(e=c.crashPoint),as(e),e<c.crashPoint?at.current=requestAnimationFrame(a):(as(c.crashPoint),aq(c),D(c.newBalance),ao(!1))})}if((0,c.useEffect)(()=>{z(null),x(!1)},[au]),u)return(0,b.jsx)("div",{className:"flex h-96 items-center justify-center",children:(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin text-primary"})});if(!y)return(0,b.jsx)("div",{className:"flex h-96 items-center justify-center text-muted-foreground",children:"SÃ©lectionne un serveur"});let az=R?.result&&""!==R.result;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Casino"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Roulette, Blackjack et paris"})]}),(0,b.jsx)(d.Card,{className:"border-border bg-gradient-to-r from-amber-500/10 to-yellow-500/10 sm:w-auto",children:(0,b.jsxs)(d.CardContent,{className:"flex items-center gap-3 p-4",children:[(0,b.jsx)(n.Wallet,{className:"h-5 w-5 text-amber-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ton solde"}),(0,b.jsxs)("p",{className:"text-xl font-bold text-amber-500",children:[q(C)," pq"]})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",className:"ml-2 h-8 w-8",onClick:()=>y&&au(y),children:(0,b.jsx)(o.RotateCcw,{className:"h-4 w-4"})})]})})]}),(0,b.jsxs)(e.Tabs,{defaultValue:"roulette",className:"w-full",children:[(0,b.jsxs)(e.TabsList,{className:"grid w-full grid-cols-5",children:[(0,b.jsxs)(e.TabsTrigger,{value:"roulette",className:"gap-2",children:[(0,b.jsx)("span",{className:"text-lg",children:"ðŸŽ°"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Roulette"})]}),(0,b.jsxs)(e.TabsTrigger,{value:"blackjack",className:"gap-2",children:[(0,b.jsx)("span",{className:"text-lg",children:"ðŸƒ"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Blackjack"})]}),(0,b.jsxs)(e.TabsTrigger,{value:"slots",className:"gap-2",children:[(0,b.jsx)("span",{className:"text-lg",children:"ðŸ’"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Machine Ã  sous"})]}),(0,b.jsxs)(e.TabsTrigger,{value:"crash",className:"gap-2",children:[(0,b.jsx)("span",{className:"text-lg",children:"ðŸš€"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Crash"})]}),(0,b.jsxs)(e.TabsTrigger,{value:"bets",className:"gap-2",children:[(0,b.jsx)(j.Dices,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Paris"})]})]}),(0,b.jsxs)(e.TabsContent,{value:"roulette",className:"mt-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)(d.Card,{className:"border-border bg-gradient-to-br from-card to-emerald-500/5",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{className:"text-center",children:"ðŸŽ° Roulette EuropÃ©enne"})}),(0,b.jsxs)(d.CardContent,{className:"flex flex-col items-center space-y-6",children:[(0,b.jsxs)("div",{className:"relative w-72 h-72",children:[(0,b.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1 z-10 w-0 h-0 border-l-[10px] border-r-[10px] border-t-[20px] border-l-transparent border-r-transparent border-t-amber-400 drop-shadow-lg"}),(0,b.jsx)("div",{className:"w-72 h-72 rounded-full border-4 border-amber-500/50 overflow-hidden shadow-2xl shadow-amber-500/10",style:{transform:`rotate(${M}deg)`,transition:I?"transform 3.5s cubic-bezier(0.17, 0.67, 0.12, 0.99)":"none"},children:(0,b.jsxs)("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[s.map((a,c)=>{let d=360*c/37,e=(c+1)*360/37,f=(d+e)/2,g=Math.PI/180*(d-90),h=Math.PI/180*(e-90),i=Math.PI/180*(f-90),j=100+100*Math.cos(g),k=100+100*Math.sin(g),l=100+100*Math.cos(h),m=100+100*Math.sin(h),n=100+40*Math.cos(h),o=100+40*Math.sin(h),p=100+40*Math.cos(g),q=100+40*Math.sin(g),r=100+73*Math.cos(i),s=100+73*Math.sin(i),u=0===a?"#059669":t.has(a)?"#dc2626":"#18181b";return(0,b.jsxs)("g",{children:[(0,b.jsx)("path",{d:`M ${j} ${k} A 100 100 0 0 1 ${l} ${m} L ${n} ${o} A 40 40 0 0 0 ${p} ${q} Z`,fill:u,stroke:"#333",strokeWidth:"0.5"}),(0,b.jsx)("text",{x:r,y:s,textAnchor:"middle",dominantBaseline:"central",fill:"white",fontSize:"6",fontWeight:"bold",transform:`rotate(${f}, ${r}, ${s})`,children:a})]},a)}),(0,b.jsx)("circle",{cx:"100",cy:"100",r:"38",fill:"#1a1a2e",stroke:"#333",strokeWidth:"1"}),(0,b.jsx)("text",{x:"100",y:"100",textAnchor:"middle",dominantBaseline:"central",fill:"#f59e0b",fontSize:"10",fontWeight:"bold",children:K?K.number:"ðŸŽ°"})]})})]}),K&&!K.error&&(0,b.jsxs)("div",{className:`rounded-2xl p-4 text-center w-full ${K.won?"bg-emerald-500/10 border border-emerald-500/30":"bg-red-500/10 border border-red-500/30"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ${0===(a=K.number)?"bg-emerald-600":t.has(a)?"bg-red-600":"bg-zinc-900"}`,children:K.number}),(0,b.jsx)("span",{className:"text-lg font-bold",children:"red"===K.color?"ðŸ”´ Rouge":"black"===K.color?"âš« Noir":"ðŸŸ¢ Vert"})]}),(0,b.jsx)("div",{className:"text-sm mb-2 text-muted-foreground break-words",children:K.results.map((a,c)=>(0,b.jsxs)("span",{className:a.won?"text-emerald-400":"text-red-400",children:[a.bet," (",q(a.mise),"pq)",a.won?` +${q(a.winnings)}`:"",c<K.results.length-1?" | ":""]},c))}),(0,b.jsx)("p",{className:`text-xl font-bold ${K.won?"text-emerald-400":"text-red-400"}`,children:K.won?`+${q(K.winnings)} pq ðŸŽ‰`:`-${q(K.totalMise)} pq`})]}),K?.error&&(0,b.jsxs)("div",{className:"rounded-2xl bg-red-500/10 border border-red-500/30 p-4 text-center text-red-400 w-full",children:["âŒ ",K.error]})]})]}),(0,b.jsxs)(d.Card,{className:"border-border bg-card",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Placer ta mise"}),(0,b.jsx)(d.CardDescription,{children:"Choisis ton pari et le montant"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Montant"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(i.Input,{type:"number",min:1,max:5e4,value:G,onChange:a=>H(Math.max(1,parseInt(a.target.value)||0)),className:"flex-1"}),(0,b.jsx)("div",{className:"flex gap-1",children:[100,500,1e3,5e3].map(a=>(0,b.jsx)(g.Button,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>H(a),children:a>=1e3?`${a/1e3}k`:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[w.map(a=>(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:a.label}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1.5",children:a.bets.map(a=>{let c=E.some(b=>b.bet===a.value);return(0,b.jsxs)(g.Button,{variant:c?"default":"outline",size:"sm",className:"text-xs",onClick:()=>Q(a.value,a.label),children:[a.label," ",(0,b.jsx)("span",{className:"ml-1 opacity-60",children:a.mult})]},a.value)})})]},a.label)),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"NumÃ©ro direct (Ã—36)"}),(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)(i.Input,{type:"number",min:0,max:36,placeholder:"0-36",value:O,onChange:a=>P(a.target.value),className:"w-24"}),(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>{""!==O&&parseInt(O)>=0&&36>=parseInt(O)&&(Q(O,`Num\xe9ro ${O}`),P(""))},children:"Ajouter"})]})]})]}),E.length>0&&(0,b.jsxs)("div",{className:"flex flex-col gap-2 p-3 rounded-lg bg-black/20 border border-white/5",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,b.jsx)("span",{className:"text-sm font-semibold",children:"Paris en cours"}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-red-400 hover:text-red-300 hover:bg-red-400/10",onClick:function(){F([])},children:"Tout effacer"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:E.map(a=>(0,b.jsxs)(f.Badge,{variant:"secondary",className:"pl-2 pr-1 py-1 flex items-center gap-1 bg-white/5",children:[(0,b.jsxs)("span",{children:[a.label," ",(0,b.jsxs)("span",{className:"text-amber-400 ml-1",children:[q(a.mise)," pq"]})]}),(0,b.jsx)("div",{className:"ml-1 cursor-pointer opacity-50 hover:opacity-100 p-0.5 rounded-full hover:bg-white/10",onClick:()=>{var b;return b=a.bet,void F(a=>a.filter(a=>a.bet!==b))},children:"âœ•"})]},a.bet))}),(0,b.jsxs)("div",{className:"text-right text-sm text-muted-foreground mt-1",children:["Total: ",(0,b.jsxs)("span",{className:"text-amber-400 font-bold",children:[q(E.reduce((a,b)=>a+b.mise,0))," pq"]})]})]}),(0,b.jsx)(g.Button,{className:"w-full h-14 text-lg font-bold gap-2 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 shadow-lg shadow-emerald-500/20",disabled:I||0===E.length,onClick:av,children:I?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Loader2,{className:"h-5 w-5 animate-spin"})," La roue tourne..."]}):(0,b.jsxs)(b.Fragment,{children:["ðŸŽ° Tourner la roue â€” ",q(E.reduce((a,b)=>a+b.mise,0))," pq"]})})]})]})]}),(0,b.jsxs)(d.Card,{className:"border-border bg-card",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Table de la Roulette"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("div",{className:"grid grid-cols-13 gap-0.5 min-w-[520px]",style:{gridTemplateColumns:"repeat(13, 1fr)"},children:[(0,b.jsx)("button",{onClick:()=>Q("0","NumÃ©ro 0"),className:`row-span-3 rounded-lg flex items-center justify-center text-sm font-bold text-white transition-all hover:scale-105 ${E.some(a=>"0"===a.bet)?"ring-2 ring-amber-400 scale-105":""} bg-emerald-600 h-full min-h-[80px]`,children:"0"}),[[3,6,9,12,15,18,21,24,27,30,33,36],[2,5,8,11,14,17,20,23,26,29,32,35],[1,4,7,10,13,16,19,22,25,28,31,34]].map((a,c)=>a.map(a=>(0,b.jsx)("button",{onClick:()=>Q(String(a),`Num\xe9ro ${a}`),className:`h-[28px] rounded flex items-center justify-center text-xs font-bold text-white transition-all hover:scale-110 ${E.some(b=>b.bet===String(a))?"ring-2 ring-amber-400 scale-110":""} ${t.has(a)?"bg-red-600 hover:bg-red-500":"bg-zinc-800 hover:bg-zinc-700"}`,children:a},a)))]})})})]})]}),(0,b.jsx)(e.TabsContent,{value:"blackjack",className:"mt-6 space-y-6",children:(0,b.jsxs)(d.Card,{className:"border-border bg-gradient-to-br from-card via-card to-emerald-500/5",children:[(0,b.jsxs)(d.CardHeader,{className:"text-center",children:[(0,b.jsx)(d.CardTitle,{className:"text-2xl",children:"ðŸƒ Blackjack"}),(0,b.jsx)(d.CardDescription,{children:"Bat le croupier sans dÃ©passer 21"})]}),(0,b.jsx)(d.CardContent,{className:"space-y-8",children:R?(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"text-center space-y-3",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:["Croupier ",az?`â€” ${R.dealerValue}`:`â€” ${R.dealerValue}+?`]}),(0,b.jsx)("div",{className:"flex justify-center gap-3 flex-wrap",children:R.dealer.map((a,c)=>(0,b.jsx)(v,{card:a,delay:az&&1===c?300:0},c))})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex-1 h-px bg-border"}),az&&(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[R.results.map((a,c)=>(0,b.jsxs)("div",{className:`px-6 py-2 rounded-full font-bold text-sm text-center ${"win"===a||"blackjack"===a||"dealer_bust"===a?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/30":"push"===a?"bg-amber-500/10 text-amber-400 border border-amber-500/30":"bg-red-500/10 text-red-400 border border-red-500/30"}`,children:[R.hands.length>1&&(0,b.jsxs)("span",{className:"opacity-70 mr-2",children:["Main ",c+1]}),"blackjack"===a&&"ðŸŽ° BLACKJACK !","win"===a&&"âœ… Tu gagnes !","dealer_bust"===a&&"ðŸ’¥ Croupier bust !","push"===a&&"ðŸ¤ Ã‰galitÃ©","bust"===a&&"ðŸ’€ Bust !","lose"===a&&"âŒ Perdu"]},c)),R.totalPayout>0&&(0,b.jsxs)("div",{className:"text-center font-bold text-emerald-400",children:["+",q(R.totalPayout)," pq"]})]}),(0,b.jsx)("div",{className:"flex-1 h-px bg-border"})]}),(0,b.jsx)("div",{className:"flex flex-col gap-6",children:R.hands.map((a,c)=>{let d=R.values[c],e=!az&&c===R.currentHand;return(0,b.jsxs)("div",{className:`text-center space-y-3 transition-opacity duration-300 ${!e&&!az?"opacity-50":"opacity-100"}`,children:[(0,b.jsxs)("div",{className:"flex justify-center gap-3 flex-wrap relative",children:[e&&(0,b.jsx)("div",{className:"absolute -left-8 top-1/2 -translate-y-1/2 text-xl animate-pulse",children:"ðŸ‘‰"}),a.map((a,c)=>(0,b.jsx)(v,{card:a,delay:200*(c>=2)},c))]}),(0,b.jsxs)("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:[R.hands.length>1?`Main ${c+1} â€” `:"Toi â€” ",(0,b.jsx)("span",{className:`font-bold ${d>21?"text-red-400":21===d?"text-emerald-400":"text-foreground"}`,children:d})]}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsxs)(f.Badge,{variant:"outline",className:"bg-amber-500/5 text-amber-400 border-amber-500/20",children:["Mise: ",q(R.bets[c])," pq",R.doubled[c]&&" (double)"]})})]},c)})}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsxs)(f.Badge,{className:"bg-amber-500/10 text-amber-400 border-amber-500/20 text-base px-4 py-1",children:["Mise: ",q(R.bet)," pq",R.doubled&&" (doublÃ©)"]})}),az?(0,b.jsx)("div",{className:"flex justify-center border-t border-border pt-6",children:(0,b.jsxs)(g.Button,{onClick:()=>S(null),className:"gap-2 h-12 px-8 bg-gradient-to-r from-primary to-primary/80",children:[(0,b.jsx)(o.RotateCcw,{className:"h-4 w-4"})," Nouvelle partie"]})}):(0,b.jsxs)("div",{className:"flex justify-center gap-3 flex-wrap border-t border-border pt-6",children:[(0,b.jsxs)(g.Button,{onClick:()=>aw("hit"),disabled:V,className:"bg-blue-600 hover:bg-blue-500 text-white gap-2 h-12 px-8",children:[V?(0,b.jsx)(k.Loader2,{className:"h-4 w-4 animate-spin"}):"ðŸŽ¯"," Tirer"]}),(0,b.jsx)(g.Button,{onClick:()=>aw("stand"),disabled:V,variant:"outline",className:"gap-2 h-12 px-8",children:"âœ‹ Rester"}),(0,b.jsx)(g.Button,{onClick:()=>aw("double"),disabled:V||!R.canAfford||R.hands[R.currentHand].length>2,className:"bg-amber-600 hover:bg-amber-500 text-white gap-2 h-12 px-8",children:"ðŸ’° Doubler"}),R.canSplit&&(0,b.jsx)(g.Button,{onClick:()=>aw("split"),disabled:V||!R.canAfford,className:"bg-purple-600 hover:bg-purple-500 text-white gap-2 h-12 px-8",children:"âœ‚ï¸ SÃ©parer"})]}),R.error&&(0,b.jsxs)("p",{className:"text-center text-red-400",children:["âŒ ",R.error]})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center space-y-6 py-8",children:[(0,b.jsx)("div",{className:"flex gap-3 opacity-30",children:[{suit:"â™ ",rank:"A"},{suit:"â™¥",rank:"K"}].map((a,c)=>(0,b.jsx)(v,{card:a},c))}),(0,b.jsxs)("div",{className:"space-y-3 text-center",children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Place ta mise pour commencer"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,b.jsx)(i.Input,{type:"number",min:1,max:5e4,value:T,onChange:a=>U(Math.max(1,parseInt(a.target.value)||0)),className:"w-32 text-center"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"pq"})]}),(0,b.jsx)("div",{className:"flex gap-2 justify-center",children:[100,500,1e3,5e3].map(a=>(0,b.jsx)(g.Button,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>U(a),children:a>=1e3?`${a/1e3}k`:a},a))}),(0,b.jsxs)(g.Button,{className:"h-14 px-10 text-lg font-bold gap-2 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 shadow-lg shadow-blue-500/20",disabled:V||T<=0,onClick:()=>aw("start"),children:[V?(0,b.jsx)(k.Loader2,{className:"h-5 w-5 animate-spin"}):"ðŸƒ"," Jouer â€” ",q(T)," pq"]})]})]})})]})}),(0,b.jsx)(e.TabsContent,{value:"slots",className:"mt-6 space-y-6",children:(0,b.jsxs)(d.Card,{className:"border-border bg-gradient-to-br from-card via-card to-purple-500/5",children:[(0,b.jsxs)(d.CardHeader,{className:"text-center",children:[(0,b.jsx)(d.CardTitle,{className:"text-2xl",children:"ðŸ’ Machine Ã  Sous"}),(0,b.jsx)(d.CardDescription,{children:"Aligne 3 symboles identiques pour gagner !"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-8",children:[(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"rounded-3xl bg-gradient-to-br from-zinc-800 to-zinc-900 border-4 border-amber-500/30 p-8 shadow-2xl shadow-amber-500/10",children:(0,b.jsx)("div",{className:"flex gap-4",children:ah.map((a,c)=>(0,b.jsx)("div",{className:`w-24 h-24 rounded-2xl bg-gradient-to-br from-zinc-700 to-zinc-800 border-2 border-zinc-600 flex items-center justify-center text-5xl transition-all duration-200 ${ad?"animate-bounce":""} ${af?.won&&af?.type==="triple"?"ring-4 ring-amber-400 shadow-lg shadow-amber-400/30":""}`,style:ad?{animationDelay:`${100*c}ms`}:{},children:a},c))})})}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-center text-sm",children:[[{emoji:"ðŸ’",name:"Cerise",mult:"Ã—3"},{emoji:"ðŸ‹",name:"Citron",mult:"Ã—5"},{emoji:"ðŸŠ",name:"Orange",mult:"Ã—8"},{emoji:"ðŸ‡",name:"Raisin",mult:"Ã—12"},{emoji:"â­",name:"Ã‰toile",mult:"Ã—25"},{emoji:"ðŸ’Ž",name:"Diamant",mult:"Ã—100"},{emoji:"7ï¸âƒ£",name:"JACKPOT",mult:"Ã—500"}].map(a=>(0,b.jsxs)("div",{className:"rounded-xl bg-muted/30 p-2",children:[(0,b.jsx)("span",{className:"text-xl",children:a.emoji}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.mult})]},a.name)),(0,b.jsxs)("div",{className:"rounded-xl bg-muted/30 p-2",children:[(0,b.jsx)("span",{className:"text-sm",children:"2x"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ã·1/4"})]})]}),af&&!af.error&&(0,b.jsxs)("div",{className:`rounded-2xl p-5 text-center ${af.won?"bg-emerald-500/10 border border-emerald-500/30":"bg-red-500/10 border border-red-500/30"} ${af.isJackpot?"ring-2 ring-amber-400 animate-pulse":""}`,children:[af.isJackpot&&(0,b.jsx)("p",{className:"text-3xl font-black text-amber-400 mb-2",children:"ðŸŽ° JACKPOT !!! ðŸŽ°"}),(0,b.jsx)("p",{className:`text-xl font-bold ${af.won?"text-emerald-400":"text-red-400"}`,children:af.won?`+${q(af.winnings)} pq (\xd7${af.multiplier}) ðŸŽ‰`:`-${q(ab)} pq`}),"double"===af.type&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"2 symboles identiques !"}),"triple"===af.type&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"3 symboles identiques !"})]}),af?.error&&(0,b.jsxs)("div",{className:"rounded-2xl bg-red-500/10 border border-red-500/30 p-4 text-center text-red-400",children:["âŒ ",af.error]}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Input,{type:"number",min:1,max:5e4,value:ab,onChange:a=>ac(Math.max(1,parseInt(a.target.value)||0)),className:"w-32 text-center"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"pq"})]}),(0,b.jsx)("div",{className:"flex gap-2",children:[100,500,1e3,5e3].map(a=>(0,b.jsx)(g.Button,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>ac(a),children:a>=1e3?`${a/1e3}k`:a},a))}),(0,b.jsx)(g.Button,{className:"h-14 px-10 text-lg font-bold gap-2 bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 shadow-lg shadow-purple-500/20 w-full max-w-sm",disabled:ad||ab<=0,onClick:ax,children:ad?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Loader2,{className:"h-5 w-5 animate-spin"})," Spinning..."]}):(0,b.jsxs)(b.Fragment,{children:["ðŸ’ Tirer le levier â€” ",q(ab)," pq"]})})]})]})]})}),(0,b.jsx)(e.TabsContent,{value:"crash",className:"mt-6 space-y-6",children:(0,b.jsxs)(d.Card,{className:"border-border bg-gradient-to-br from-card via-card to-orange-500/5",children:[(0,b.jsxs)(d.CardHeader,{className:"text-center",children:[(0,b.jsx)(d.CardTitle,{className:"text-2xl",children:"ðŸš€ Crash"}),(0,b.jsx)(d.CardDescription,{children:"La fusÃ©e s'envole... Multiplie tes gains avant l'explosion !"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"relative h-64 w-full rounded-3xl bg-zinc-950 border border-zinc-800 overflow-hidden flex items-center justify-center shadow-inner",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),(0,b.jsxs)("div",{className:`z-10 text-7xl font-black tabular-nums transition-colors duration-200 ${ap&&!ap.won&&!ap.error?"text-red-500":ap&&ap.won&&!ap.error?"text-emerald-400":"text-white"}`,children:[ar.toFixed(2),"x"]}),an&&parseFloat(al)<=ar&&(0,b.jsxs)("div",{className:"absolute top-8 text-xl font-bold font-mono text-emerald-400 bg-emerald-500/10 px-4 py-1.5 rounded-full ring-1 ring-emerald-500/50 animate-bounce",children:["Retrait: ",al,"x"]}),ap&&!ap.error&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-30 pointer-events-none",children:(0,b.jsx)("div",{className:"w-full text-center text-red-500 text-9xl animate-pulse blur-sm",children:"ðŸ’¥"})})]}),(0,b.jsxs)("div",{className:"max-w-xl mx-auto space-y-6",children:[ap&&!ap.error&&(0,b.jsxs)("div",{className:`rounded-2xl p-4 text-center border ${ap.won?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-red-500/10 border-red-500/30 text-red-400"}`,children:[(0,b.jsx)("p",{className:"font-bold text-lg",children:ap.won?`Retrait r\xe9ussi (+${q(ap.winnings)} pq)`:`Crashed \xe0 ${ap.crashPoint}x !`}),!ap.won&&(0,b.jsxs)("p",{className:"text-sm opacity-80 mt-1",children:["La fusÃ©e a explosÃ© avant ton objectif de ",al,"x"]})]}),ap?.error&&(0,b.jsxs)("div",{className:"rounded-2xl bg-red-500/10 border border-red-500/30 p-4 text-center text-red-400",children:["âŒ ",ap.error]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Mise (pq)"}),(0,b.jsx)(i.Input,{type:"number",min:1,max:5e5,value:aj,onChange:a=>ak(Math.max(1,parseInt(a.target.value)||0)),disabled:an,className:"text-lg h-12"}),(0,b.jsx)("div",{className:"flex gap-1",children:[100,1e3,"1/2","Max"].map(a=>(0,b.jsx)(g.Button,{variant:"outline",size:"sm",className:"text-xs h-8 flex-1 px-0",disabled:an,onClick:()=>{"1/2"===a?ak(Math.max(1,Math.floor(aj/2))):"Max"===a?ak(Math.min(5e5,C)):ak(a)},children:a},a))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Retrait Auto (x)"}),(0,b.jsx)(i.Input,{type:"number",min:1.01,step:.1,value:al,onChange:a=>am(a.target.value),disabled:an,className:"text-lg h-12"}),(0,b.jsx)("div",{className:"flex gap-1",children:["1.50","2.00","5.00","10.0"].map(a=>(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",className:"text-xs h-8 flex-1 px-0",disabled:an,onClick:()=>am(a),children:[a,"x"]},a))})]})]}),(0,b.jsxs)(g.Button,{className:"w-full h-16 text-xl font-bold overflow-hidden relative group bg-gradient-to-r from-orange-600 to-amber-500 hover:from-orange-500 hover:to-amber-400",disabled:an||aj<=0||1.01>parseFloat(al),onClick:ay,children:[an?(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Loader2,{className:"h-6 w-6 animate-spin"})," En vol..."]}):(0,b.jsx)("span",{className:"flex items-center gap-2",children:"DÃ©coller ðŸš€"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]})]})]})]})}),(0,b.jsxs)(e.TabsContent,{value:"bets",className:"mt-6 space-y-6",children:[(0,b.jsxs)(d.Card,{className:"border-border bg-card",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Dices,{className:"h-5 w-5 text-purple-500"}),"Paris en cours"]}),(0,b.jsx)(d.CardDescription,{children:"Paris ouverts ou en attente â€¢ Mise via /pari sur Discord"})]}),(0,b.jsx)(d.CardContent,{children:0===X.length?(0,b.jsx)("p",{className:"py-8 text-center text-muted-foreground",children:"Aucun pari en cours â€” CrÃ©e un pari avec /pari sur Discord !"}):(0,b.jsx)("div",{className:"space-y-4",children:X.map(a=>{var c;return(0,b.jsxs)("div",{className:"rounded-2xl border border-border bg-muted/30 p-5 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-0.5",children:["Par ",(c=a.creator_id,_.get(c)?.username||"Utilisateur")," Â· ",r(a.created_at)]})]}),(0,b.jsx)(f.Badge,{className:"open"===a.status?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20",children:"open"===a.status?"ðŸŸ¢ Ouvert":"ðŸŸ¡ FermÃ©"})]}),(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-2",children:a.options.map(c=>{let d=a.totalPool>0?c.totalMise/a.totalPool*100:0;return(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-card p-3 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"font-medium text-foreground",children:c.name}),(0,b.jsxs)(f.Badge,{variant:"outline",className:"text-primary",children:["Ã—",c.odds]})]}),(0,b.jsx)(h.Progress,{value:d,className:"h-1.5"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[q(c.totalMise)," pq (",d.toFixed(0),"%)"]})]},c.id)})}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(l.Users,{className:"h-4 w-4"}),a.participantCount]}),(0,b.jsxs)("span",{children:["ðŸ’° ",q(a.totalPool)," pq"]}),"valorant_next_match"===a.type&&(0,b.jsx)(f.Badge,{variant:"outline",className:"text-red-400 border-red-500/20",children:"ðŸŽ¯ Valorant"})]})]},a.id)})})})]}),(0,b.jsxs)(d.Card,{className:"border-border bg-card",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Clock,{className:"h-5 w-5 text-blue-500"}),"Historique"]})}),(0,b.jsx)(d.CardContent,{children:0===Z.length?(0,b.jsx)("p",{className:"py-8 text-center text-muted-foreground",children:"Aucun historique"}):(0,b.jsx)("div",{className:"space-y-3",children:Z.map(a=>{let c=a.options.find(b=>b.id===a.resolved_option_id);return(0,b.jsxs)("div",{className:"flex items-center gap-4 rounded-2xl bg-muted/30 p-4",children:[(0,b.jsx)("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-xl text-lg ${"resolved"===a.status?"bg-emerald-500/10":"bg-red-500/10"}`,children:"resolved"===a.status?"âœ…":"âŒ"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium text-foreground truncate",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["resolved"===a.status&&c?`Gagnant: ${c.name}`:"AnnulÃ©"," Â· ",r(a.created_at)]})]}),(0,b.jsxs)("div",{className:"text-right shrink-0",children:[(0,b.jsxs)("p",{className:"text-sm font-semibold",children:[q(a.totalPool)," pq"]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.participantCount," joueurs"]})]})]},a.id)})})})]})]})]})]})}a.s(["default",()=>x])}];

//# sourceMappingURL=app_dashboard_casino_page_tsx_3e32b2ae._.js.map